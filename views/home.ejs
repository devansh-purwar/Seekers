<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/media/edit.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Seekers</title>
    <link rel="stylesheet" href="/css/home.css">
</head>

<body>
    <div style="min-height:calc(100vh - 70px);">
    <%- include('partials/flash')%>

        <% if (currentUser) { %>
            <%- include('partials/login_navbar') %>
                <% } else { %>
                    <%- include('partials/navbar') %>
                        <% } %>

                        <% console.log('|Success|',success,'|Error|',error) %> 
                    <div class="container">
                        <div class="row mt-3">
                            <div class="col-md-12">
                                <h1>Live with friends</h1>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <div class="container" style="min-height:300px">
                                    <div class="row d-flex justify-content-around " >
                                        <div class="col-md-6 mt-4" style="height:300px">
                                            <div class="container" style="height:100%">
                                                <div class="row shadow" style="height: 100%;border-radius: 30px;">
                                                    <div class="col-6 d-flex flex-column mt-3 justify-content-between">
                                                        <h3 >Find roommates</h3>
                                                        <!-- <img src="/media/placeholder.png" alt="" class="img-fluid" > -->
                                                        <p>
                                                Connect with like-minded people to share a place together.
                                                        </p>
                                                        <a href="/userProfiles" class="mb-3"><button type="button" class="btn-cmn">Get started</button></a>
                                                    </div>
                                                    <div class="col-6 " style="background: no-repeat center/295% url(/media/roommate.jpg);border-bottom-right-radius: 30px;border-top-right-radius: 30px;">
                                                        <!-- <img src="/media/owner.jpg" alt=""class="img-fluid rounded"> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 mt-4" >
                                            <div class="container" style="height: 100%;">
                                                <div class="row shadow" style="height: 100%;border-radius: 30px;">
                                                    <div class="col-6 d-flex mt-3 flex-column justify-content-between" >
                                                        <h3>Find a home</h3>
                                                        <!-- <img src="/media/placeholder.png" alt="" class="img-fluid" > -->
                                                        <p>
                                                            Find a room in a house or flatshare with the right housemates..
                                                        </p>
                                                        <a href="/rooms" class="mb-3"> <button type="button" class="btn-cmn">Search Now</button></a>
                                                    </div>
                                                    <div class="col-6 "  style="background: no-repeat center/240% url(/media/room.jpg);border-bottom-right-radius: 30px;border-top-right-radius: 30px;">
                                                        <!-- <img src="/media/room.jpg" alt=""class="img-fluid rounded"> -->

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="row mt-5 d-flex align-items-center">
                            <div class="col-6 cmn-t">
                               Rooms
                            </div>
                            <div class="col-6 text-end">
                                 <a href="/rooms" class="a-link">View rooms  
                                     <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right-circle" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/>
                                  </svg></a>                       
                            </div>                          
                        </div>
                        <div class="row mt-2">
                            <div class="col-md-12">
                               <p> List your rooms on RooMigo to find the right housemates.</p>
                            </div>
                        </div>

                        <div class="row mt-3">
                            <% if (rooms.length) { %>
                                <% for( let i = 0; i < rooms.length; i++ ) { %>
                                    <div class="col-md-4 mt-5 rounded" style="max-height: 400px;">
                                        <div class="container mt-4 mb-4 d-flex flex-column justify-content-between rounded" style="height: 100%;">
                                            <div class="row mt-3">
                                                <div class="col-3">
                                                    <img src="<%= rooms[i].authorProfile.images[0].url %> " class="rounded-circle img-fluid" style ="height: 50px;width: 50px;object-fit: cover;" alt="">
                                                </div>
                                                <div class="col-9 d-flex flex-column justify-content-center" style="padding-left: 0px;">
                                                    <p class="owner-p" style="text-transform: none;"><%= rooms[i].authorProfile.name %></p>
                                                </div>                                        
                                            </div>
                                            <div class="row " style=" margin-left: auto;margin-right: auto;">
                                                <div class="col-md-12" >
                                                    <img src="<%= rooms[i].images[0].url %> " class="img-fluid rounded" style="height: 200px;width:200px;object-fit: cover;" alt="">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                   <span><%=rooms[i].address%></span><span>, <%= rooms[i].neighbourhood %> </span>
                                                   <p>
                                                   <span><%=rooms[i].bed%> bedroom</span>
                                                   </p>
                                                </div>
                                            </div>
                                            <!-- <div class="row">
                                                <div class="col-md-12">
                                                </div>
                                            </div> -->
                                            <div class="row mb-3">
                                                <div class="col-md-12 d-flex justify-content-between align-items-center">
                                                   <span class="spn-x">$<%=rooms[i].rent%><span> /month</span></span> <a href="<%= '/rooms/' + rooms[i]._id %>"> <button class="btn-cmn">View Room</button></a>
                                                </div>
                                            </div>
                                            
                                            
                                        </div>
                                    </div>
                                <% } %>
                            <% } %>
                        </div>


                        <div class="row mt-5">
                            <div class="col-6 cmn-t">
                                People
                            </div>
                            <div class="col-6 text-end">
                                 <a href="/userProfiles" class="a-link">View people  
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right-circle" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/>
                                      </svg>
                                 </a>                       
                            </div>                          
                        </div>
                        <div class="row mt-2">
                            <div class="col-md-12">
                               <p> Connect with like-minded housemates.</p>
                            </div>
                        </div>


                        <div class="row">
                            <% if (profiles.length) { %>
                                <% for( let i = 0; i < profiles.length; i++ ) { %>
                                        <div class="col-md-3 mt-4 mb-4 rounded" >
                                            <div class="container mt-4 d-flex flex-column justify-content-start rounded" style="height: 100%;">
                                                <div class="row mt-3" style="height: 100%;width: 100%; margin:auto">
                                                    <div class="col-md-12 d-flex justify-content-stretch" style="min-height: 100%;" >
                                                        <img src="<%= profiles[i].images[0].url %> " class="img-fluid rounded"  style="object-fit: cover;" alt="">
                                                    </div>
                                                    </div>
                                                    <div class="row mt-2">
                                                        <div class="col-md-12">
                                                           <span>Tags</span>
                                                        </div>
                                                    </div>
                                                <div class="row mt-1 mb-4">
                                                    <div class="col-md-12 d-flex justify-content-between align-items-center">
                                                        <span class="spn-x"><%=profiles[i].name%>, <%=new Date().getFullYear() -
                                                         profiles[i].dob.slice(0,4) %></span>
                                                         <a href="<%= '/userProfiles/' + profiles[i]._id %> "><button class="btn-cmn">View Profile</button></a> 
                                                    </div>
                                                </div>
                                                
                                            </div>  
                                        </div>
                                    <% } %>
                            <% } %>
                        </div>


                        <div class="row mt-5 text-center">
                            <div class="col-md-12">
                               <h3> Do you have a spare room?</h3>
                            </div>
                        </div>
                        <div class="row  text-center">
                            <div class="col-md-12">
                               <p> List your property on RooMigo to find like-minded housemates.</p>
                            </div>
                        </div>
                        <div class="row mt-5 mb-5 text-center">
                            <div class="col-md-12">
                                <a href="/rooms/new"><button type="button" class="listing-btn">List a place</button></a>
                            </div>
                        </div>
                    </div>

                </div>
                    <div class="mt-4" style="background: #FF664D;height: 50px;"><span>&nbsp;</span></div>
                            <!-- JavaScript Bundle with Popper -->
                            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
                                integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
                                crossorigin="anonymous"></script>
</body>

</html>